<odoo>
    <data>
        <record id="meal_order_form_view" model="ir.ui.view">
            <field name="name">meal.order.form.view</field>
            <field name="model">meal.order</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <h1>
                            <field name="name"></field>
                        </h1>
                        <group>
                            <group>
                                <field name="customer_id"></field>
                                <field name="order_type"></field>
                                <field name="order_tag_ids" widget="many2many_tags" options="{'color_field':'color', 'no_create': True}"></field>
                            </group>
                            <notebook>
                                <page name="items" string="Items">
                                    <field name="item_ids">
                                        <tree> <!--editable = "top" restrict the pop up-->
                                            <field name="meal_id"></field>
                                            <field name="quantity"></field>
                                            <field name="price"></field>
                                            <field name="total_price"></field>
                                        </tree>
                                        <form>
                                            <sheet>
                                                <group>
                                                    <field name="meal_id"></field>
                                                    <field name="quantity"></field>
                                                </group>
                                                <group>
                                                    <field name="price"></field>
                                                    <field name="total_price"></field>
                                                </group>
                                            </sheet>
                                        </form>
                                    </field>
                                    
                                </page>
                            </notebook>
                            <group>
                                <field name="order_date"></field>
                                <field name="total_price"></field>
                                <field name="is_urgent"></field>
                                
                            </group>
                            <group>
                                <group>
                                    <field name="note"></field>
                                </group>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="meal_order_tree_view" model="ir.ui.view">
            <field name="name">meal.order.tree.view</field>
            <field name="model">meal.order</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"></field>
                    <field name="order_type"></field>
                    <field name="order_date"></field>
                    <field name="total_price"></field>
                    <field name="note"></field>
                </tree>
            </field>
        </record>
        <!--search view  (search, filter, group by)-->
        <record id="meal_order_view_search" model="ir.ui.view">
            <field name="name">meal.order.search.view</field>
            <field name="model">meal.order</field>
            <field name="arch" type="xml">
                <search>
                    <field name="customer_id" string="Customer"></field>
                    <field name="name" string="Name"></field>
                    <field name="order_date" string="Order Date"></field>
                    <field name="order_type" string="Order Type"></field>
                    <field name="total_price" string = "Total Price"></field>
                    <separator/>
                    <filter string="Internal" name="type_internal" domain="[('order_type', '=', 'internal')]" />
                    <filter string="External" name="type_external" domain="[('order_type', '=', 'external')]" />
                    <separator/>
                    <filter name="urgent_order" string="Urgent Order" domain="[('is_urgent', '=', 'True')]" />
                    <separator/>
                    <filter name="Today_Order" string="Today_Order" domain="[('order_date', '=', time.strftime('%Y-%m-%d'))]" />
                    <group name="group_by" string="Group By">
                        <filter name="order_type" string="Order Type" context="{'group_by': 'order_type'}"/> 
                        <filter name="order_date" string="Order Date" context="{'group_by': 'order_date'}"/>
                        <filter name="customer_id" string="Customer" context="{'group_by': 'customer_id'}"/>                     
                    </group>
                </search>
            </field>
        </record>
        <record id="meal_order_window_action" model="ir.actions.act_window">
            <field name="name">Meal Order</field>
            <field name="res_model">meal.order</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem
            id="meal_order_menu"
            name="Order"
            action="meal_order_window_action"
            parent="tech_order1.order_base_menu"
            sequence= "10"/>
        
    
    </data>
    
</odoo>